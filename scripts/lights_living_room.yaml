---
# Lights group control - Living Room
#

turn_off_living_room:
  alias: Turn off lights of Living Room
  fields:
    presence_mode:
      description: Leaves presence lights on
      example: "false"
      default: false
      selector:
        boolean:
  sequence:
    - choose:
        - conditions:
            - condition: state
              entity_id: light.light_2
              state: "on"
            - condition: template
              value_template: "{{ not presence_mode }}"
          sequence:
            - action: light.turn_off
              entity_id: light.light_2
    - choose:
        - conditions:
            - condition: state
              entity_id: light.wled_tv_main
              state: "on"
          sequence:
            - action: light.turn_off
              entity_id: light.wled_tv_main
    - choose:
        - conditions:
            - condition: state
              entity_id: light.wled_sideboard
              state: "on"
            - condition: template
              value_template: "{{ not presence_mode }}"
          sequence:
            - action: light.turn_off
              entity_id: light.wled_sideboard
    - if:
        - condition: state
          entity_id: input_boolean.christmas_season
          state: "on"
      then:
        - choose:
            - conditions:
                - condition: state
                  entity_id: light.wled_xmas
                  state: "on"
              sequence:
                - action: light.turn_off
                  entity_id: light.wled_xmas
  mode: single

set_living_room_lights_color:
  alias: Set living room lights to color X
  sequence:
    - action: light.turn_on
      data:
        entity_id: light.led_strip_living_room
        effect: Solid
        rgb_color:
          - "{{ red }}"
          - "{{ green }}"
          - "{{ blue }}"

set_living_room_lights_party:
  alias: Set living room color lights to party mode
  sequence:
    - action: light.turn_on
      target:
        entity_id: light.led_strip_living_room
      data:
        color_name: green
        effect: Cycle up
        brightness_step: 255
