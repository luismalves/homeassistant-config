---
# Lights group control - Bedroom
#

turn_off_bedroom:
  alias: Turn off lights of Bedroom
  sequence:
    - choose:
        - conditions:
            - condition: state
              entity_id: light.bedroom_top_1
              state: 'on'
          sequence:
            - action: light.turn_off
              entity_id: light.bedroom_top_1
    - choose:
        - conditions:
            - condition: state
              entity_id: light.bedroom_1
              state: 'on'
          sequence:
            - action: light.turn_off
              entity_id: light.bedroom_1
    - choose:
        - conditions:
            - condition: state
              entity_id: light.bedroom_2
              state: 'on'
          sequence:
            - action: light.turn_off
              entity_id: light.bedroom_2
    - choose:
        - conditions:
            - condition: state
              entity_id: light.wled_bed_group
              state: 'on'
          sequence:
            - action: light.turn_off
              entity_id: light.wled_bed_group
  mode: single


low_light_bedroom:
  alias: Turn on low light on Bedroom
  sequence:
    action: select.select_option
    target:
      entity_id: select.wled_bed_preset
    data:
      option: >
        {{ "Left blue" if context.user_id == "3e6772dde48f4405b5c3a0ef42ed357d" else "Right blue" }}
  mode: single

set_read_to_sleep_luis:
  alias: Turn on low light on Bedroom on other side of Luis
  sequence:
    - action: select.select_option
      target:
        entity_id: select.wled_bed_preset
      data:
        option: "Right blue"
    - action: light.turn_off
      entity_id: light.bedroom_top_1
    - action: light.turn_off
      entity_id: light.bedroom_1
    - action: light.turn_off
      entity_id: light.bedroom_2
  mode: single

set_read_to_sleep_margarida:
  alias: Turn on low light on Bedroom on other side of Margarida
  sequence:
    - action: select.select_option
      target:
        entity_id: select.wled_bed_preset
      data:
        option: "Left blue"
    - action: light.turn_off
      entity_id: light.bedroom_top_1
    - action: light.turn_off
      entity_id: light.bedroom_1
    - action: light.turn_off
      entity_id: light.bedroom_2
  mode: single

set_bedroom_lights_color:
  alias: Set bedroom lights to color X
  sequence:
    - action: light.turn_on
      data:
        entity_id: light.wled_bed_group
        effect: Solid
        rgb_color:
          - "{{ red }}"
          - "{{ green }}"
          - "{{ blue }}"

set_bedroom_lights_white:
  sequence:
    - action: script.turn_on
      entity_id: script.set_bedroom_lights_color
      data:
        variables:
          red: "255"
          blue: "255"
          green: "255"

set_bedroom_lights_party:
  alias: Set bedroom color lights to party mode
  sequence:
    - action: light.turn_on
      target:
        entity_id: light.wled_bed_group
      data:
        effect: Random Colors
