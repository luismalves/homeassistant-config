card:
  - height: >
      [[[
        if(!!variables["image-url"]) {
          return "140px";
        } else {
          return 'var(--height)'; 
        }
      ]]]
  - background: >
      [[[
        if(!!variables.background_morning) {
          const hour = new Date().getHours();
          if (hour < 12) {
            return variables.background_morning;
          } else {
            return variables.background_afternoon;
          }
        } else {
          return "var(--background)";
        }
      ]]]
  - background-size: cover
  - font-weight: bold
  - color: var(--color)
  - font-size: var(--font-size-name)
  - padding: >
      [[[
        if(!!variables["image-url"]) {
          return "0 !important";
        } else {
          return "inherit"; 
        }
      ]]]
  - --background: "[[background]]"
  - --color: "[[color]]"
  - --height: "[[height]]"
  - --font-size-name: "[[font_name]]"
  - --font-size-state: "[[font_state]]"
  - --padding-bottom-name: "[[padding_bottom]]"

custom_fields:
  alert:
    - align-self: center
  s:
    - font-weight: bold

grid:
  - grid-template-areas: '"image" "graph" "alert" "s" "n"'
  - grid-template-columns: 1fr
  - grid-template-rows: min-content min-content min-content 1fr min-content

name:
  - font-weight: bold
  - padding-bottom: var(--padding-bottom-name)

state:
  - align-self: center
  - font-size: var(--font-size-state)
