title: Debug
path: debug
panel: true
#icon: mdi:cog-box
visible: true
background: "linear-gradient(315deg, #485461 0%, #28313b 74%)"

cards:
  - type: custom:layout-card
    layout_type: custom:vertical-layout
    layout:
      width: 200
      max_width: 350
      column_widths: 98%
    cards:
      - type: "custom:gap-card"
        height: 40

      - type: "custom:decluttering-card"
        template: title-white
        variables:
          - content: Tarefas rotineiras

      - type: "custom:gap-card"
        height: 20

      - type: "custom:decluttering-card"
        template: subtitle-white
        variables:
          - content: Cozinha

      - type: "custom:button-card"
        template: task
        entity: sensor.task_manutencao_maq_roupa
        name: Manutenção Máquina Roupa
        variables:
          warning_before: 5
          cycle_days: 60

      - type: "custom:gap-card"
        height: 20

      - type: "custom:decluttering-card"
        template: subtitle-white
        variables:
          - content: Outros

      - type: "custom:button-card"
        template: task
        entity: sensor.task_verificar_baterias_drone
        name: Verificar nivel baterias drone
        variables:
          warning_before: 3
          cycle_days: 30

      - type: "custom:button-card"
        template: task
        entity: sensor.task_limpar_desktop
        name: Limpar pó do computador
        variables:
          warning_before: 3
          cycle_days: 180

      - type: "custom:auto-entities"
        show_empty: false
        card:
          type: custom:layout-card
          layout_type: custom:vertical-layout
        card_param: cards
        filter:
          #'state': '!include ../states/state-x.yaml',
          template: >
            {% for sensor in states.sensor %}
              {% if state_attr(sensor.entity_id, "timestamp_end") %}
                {% if as_timestamp(now()) >= (state_attr(sensor.entity_id, "timestamp_end") | int) - (state_attr(sensor.entity_id, "warning_before") * 24 * 60 * 60) %}
                  {{ { 'entity': sensor.entity_id,
                      'name': state_attr(sensor.entity_id, 'friendly_name'),
                      'type': 'custom:button-card',
                      'template': 'tasks-action',
                      'styles': {"card":[{"width":"340px"},{"height":"34px"},{"letter-spacing":"0.1em;"},{"font-family":"San Francisco"},{"font-weight":700},{"background":"transparent"},{"font-size":"12px"},{"border":"2px solid white"},{"border-radius":"10px"},{"box-shadow":"none"},{"padding":"4px 0px"},{"transition":"none"}],"custom_fields":{"icon_hue":[{"color":"rgb(255, 216, 132)"},{"margin":"auto"},{"width":"20px"}]},"grid":[{"grid-template-areas":"\"icon_hue name\""},{"grid-template-columns":"40px 2fr"},{"grid-template-rows":"1fr"}],"name":[{"color":"rgb(255, 255, 255)"},{"font-weight":"bold"},{"font-size":"12px"},{"grid-area":"name"},{"justify-self":"flex-start"}]},
                      'tap_action': {'action': 'navigate', 'navigation_path': '/dashboard-mobile/tasks'},
                      'show_icon': false,
                      'show_state': false
                    }, }}
                  
                {% endif %}
              {% endif %}
            {% endfor %}
          include:
            - entity_id: "sensor.task*"
              options:
                type: "custom:button-card"
                show_icon: false
                show_state: false
                state: !include ../states/state-x.yaml
                styles: !include ../styles/style-card-task.yaml
                template: "tasks-action"
