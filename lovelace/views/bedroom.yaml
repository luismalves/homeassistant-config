title: Quarto
path: bedroom
panel: true
background: "var(--background-view-bedroom)"

cards:
  - type: custom:layout-card
    layout_type: custom:vertical-layout
    layout:
      card_margin: 8px 0px
      margin: 0px
      max_width: 350
    cards:
      - type: "custom:gap-card"
        height: 40

      - type: "custom:layout-card"
        layout_type: "custom:grid-layout"
        layout:
          grid-template-columns: 1fr 1fr 1fr
          grid-template-rows: auto
          margin: 0px
        cards:
          - template: title
            type: "custom:decluttering-card"
            view_layout:
              grid-column: span 3
            variables:
              - content: Quarto

          - type: markdown
            view_layout:
              grid-column: span 3
            style: >
              ha-card {
                box-shadow: none;
                height: 100%;
                background: none;
                font-weight: 700;
                font-size: 1.2em;
                color: var(--el-title-color);
                margin-left: -15px;
                margin-top: -17px;
                margin-bottom: 0px;
              }
            content: >
              {% if states.sensor.lights_on_bedroom.state == "0" %} NÃ£o existem luzes ligadas.{% elif states.sensor.lights_on_bedroom.state == "1" %} {{states.sensor.lights_on_bedroom.state}} luz ligada. {% else %} {{states.sensor.lights_on_bedroom.state}} luzes ligadas. {% endif %}

          - template: es-light-temperature
            type: "custom:decluttering-card"
            variables:
              - template: light-bedroom
              - entity-1: light.luz_quarto_direita
              - name-1: "Luz Esquerda"
              - state-1: "on"
              - state-2: "off"
              - circle-1: entity.attributes.brightness
              - circle-2: (254 / 100)
              - circle-3: "on"
              - circle-4: brightness

          - template: es-light-temperature
            type: "custom:decluttering-card"
            variables:
              - template: light-pendant
              - entity-1: light.luz_quarto
              - name-1: "Luz Quarto"
              - state-1: "on"
              - state-2: "off"
              - circle-1: entity.attributes.brightness
              - circle-2: (254 / 100)
              - circle-3: "on"
              - circle-4: brightness

          - template: es-light-temperature
            type: "custom:decluttering-card"
            variables:
              - template: light-bedroom
              - entity-1: light.luz_quarto_esquerda
              - name-1: "Luz Direita"
              - state-1: "on"
              - state-2: "off"
              - circle-1: entity.attributes.brightness
              - circle-2: (254 / 100)
              - circle-3: "on"
              - circle-4: brightness

          - template: es-light
            type: "custom:decluttering-card"
            variables:
              - template: light-strip
              - entity-1: light.wled_bed_group
              - name-1: "LED Strip"
              - state-1: "on"
              - state-2: "off"
              - circle-1: entity.attributes.brightness
              - circle-2: (254 / 100)
              - circle-3: "on"
              - circle-4: brightness

          - template: es-speaker
            type: "custom:decluttering-card"
            variables:
              - template: speaker-nest-hub
              - entity-1: media_player.smart_clock
              - name-1: "Smart Clock"
              - room: "Quarto"
              - circle-1: entity.attributes.volume_level
              - circle-2: 0.01
              - circle-3: "playing"
              - circle-4: volume_level

          - type: "custom:gap-card"
            height: 10
            view_layout:
              grid-column: span 3

          - template: scene
            type: "custom:decluttering-card"
            variables:
              - template: scene-reading
              - scene-1: scene.reading
              - entity-1: scene.reading

          - template: script
            type: "custom:decluttering-card"
            variables:
              - entity-1: sensor.lights_on_bedroom
              - template: light-strip-2
              - script: script.low_light_bedroom
              - name: "Low light"

          - type: conditional
            conditions:
              - entity: sensor.lights_on_bedroom
                state_not: "0"
            card:
              template: script
              type: "custom:decluttering-card"
              variables:
                - entity-1: sensor.lights_on_bedroom
                - template: script-lights-off
                - script: script.turn_off_bedroom
                - name: "Desligar luzes"
